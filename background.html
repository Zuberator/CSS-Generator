<!doctype html>
<html>

<head>
  <title>CSS Generator</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="img/favicon.png" rel="shortcut icon" type="image/png">

  <!-- WEB APP -->
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon-precomposed">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <!-- JS -->
  <script defer src="https://code.iconify.design/iconify-icon/1.0.0-beta.3/iconify-icon.min.js"></script>
</head>

<body>

  <header>
    <a href="#" id="menu" onclick="add()">&#9776;</a>
    <div id="top">
      <a href="./">Border Radius</a>
      <a href="color.html">Color</a>
      <a href="box-shadow.html">Box Shadow</a>
      <a href="text-shadow.html">Text Shadow</a>
      <a href="gradient.html">Gradient</a>
      <a href="transform.html">Transform</a>
      <a href="flexbox.html">Flexbox</a>
      <a href="grid.html">Grid</a>
      <a class="active" href="background.html">Background</a>
      <a href="button.html">Button</a>
    </div>
  </header>

  <main data-animation>

    <div id="controls" data-background-generator>

      <span>Color</span>
      <input type="color" id="color">

      <span>Image</span>
      <input type="file" id="file">

      <span>Size</span>
      <select data-square>
        <option value="background-size: auto">auto</option>
        <option value="background-size: cover">cover</option>
        <option value="background-size: contain">contain</option>
        <option value="background-size: 50px">50px</option>
        <option value="background-size: 100px">100px</option>
        <option value="background-size: 10%">10%</option>
        <option value="background-size: 50%">50%</option>
      </select>

      <span>Attachment</span>
      <select data-square>
        <option value="background-attachment: scroll">scroll</option>
        <option value="background-attachment: fixed">fixed</option>
        <option value="background-attachment: local">local</option>
      </select>

      <span>Blend Mode</span>
      <select data-square>
        <option value="background-blend-mode: multiply">multiply</option>
        <option value="background-blend-mode: screen">screen</option>
        <option value="background-blend-mode: overlay">overlay</option>
        <option value="background-blend-mode: darken">darken</option>
        <option value="background-blend-mode: lighten">lighten</option>
        <option value="background-blend-mode: color-dodge">color-dodge</option>
        <option value="background-blend-mode: saturation">saturation</option>
        <option value="background-blend-mode: color">color</option>
        <option value="background-blend-mode: luminosity">luminosity</option>
      </select>

      <span>Position X</span>
      <select data-square>
        <option value="background-position-x: top">top</option>
        <option value="background-position-x: bottom">bottom</option>
        <option value="background-position-x: center">center</option>
        <option value="background-position-x: 10%">10%</option>
        <option value="background-position-x: 50%">50%</option>
      </select>

      <span>Position Y</span>
      <select data-square>
        <option value="background-position-y: top">top</option>
        <option value="background-position-y: bottom">bottom</option>
        <option value="background-position-y: center">center</option>
        <option value="background-position-y: 10%">10%</option>
        <option value="background-position-y: 50%">50%</option>
      </select>

      <span>Repeat</span>
      <select data-square>
        <option value="background-repeat: repeat">repeat</option>
        <option value="background-repeat: repeat-x">repeat-x</option>
        <option value="background-repeat: repeat-y">repeat-y</option>
        <option value="background-repeat: no-repeat">no-repeat</option>
        <option value="background-repeat: space">space</option>
        <option value="background-repeat: round%">round%</option>
      </select>

      <p id="code">...</p>

      <div class="buttons">
        <button onclick="copy()">Copy CSS</button>
        <button onclick="generateRandomBackground()">Generate!</button>
      </div>

    </div>

    <div id="square"></div>

  </main>

  <footer></footer>

  <script src="js/functions.js"></script>
<script>
    const selectBackground = document.querySelectorAll("select");
    const colorInput = document.querySelector("[data-background-generator] input[type=color]");
    const imageInput = document.querySelector("[data-background-generator] input[type=file]");
    const image = 'url("img/avatar.webp")';

    selectBackground.forEach((select) => {
      select.addEventListener("input", () => {
        setBackground();
      });
    });

    function generateRandomBackground() {
      colorInput.value = randomColor();
      selectBackground.forEach((select) => {
        select.value =
          select.options[Math.floor(random(0, select.options.length))].value;
      });
      setBackground();
    }

    generateRandomBackground();

    function setBackground() {
      let valuesBackground = [];

      selectBackground.forEach((select) => {
        if (select.value != "") valuesBackground.push(select.value);
      });

      valuesBackground.push("background-color: " + colorInput.value);
      valuesBackground.push("background-image: " + image);

      square.setAttribute("style", valuesBackground.join("; "));

      cssCode.textContent = square.getAttribute("style");
    };
  </script>

</body>

</html>